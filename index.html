<!DOCTYPE html>
<html lang="en">
<head>
  <title>I Ching</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script type='text/javascript' src='./dist/oracle.js'></script>

  
</head>
<body>

<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">yijing.herokuapp.com</a>
    </div>
      <ul class="nav navbar-nav">
        <li class="pull-right"><a href="./about.html">About</a></li>
      </ul>
  </div>
</nav>
<div class="container text-center">
	<h2>I Ching</h2>
  <p>Click below to consult the oracle.</p>
  <button class="btn" id="cast">Cast Line</button>
  <button class="btn" id="refresh">Reset</button>
  <button class="btn" id="help">?</button>

  <div id="instructions" class="text-left" style="display:none;"></br />
  <ul>
    <li>Press Cast Line 6 times to generate a hexagram. The hexagram is built from the bottom up. The numbers 6 through 9 correspond to changing yin, yang, yin, and changing yang respectively.
    </li>
    <li>A yang line is an unbroken line and yin lines are broken. A 6 is represented by ===x=== and signifies a yin line that alternates to yang. A 9 is the reverse and is represented by ===o===. 
    </li>
    <li>If there are are any changing lines, then you will receive two hexagrams. 
    </li>
    <li>The changing lines are the numbers after the base hexagram i.e. (21.1.4 --> 23) means hexagram 21 with changing lines 1 and 4 alternating to 23.
    </li>
  </ul>
  </div>
  <div id="lines"></div>
  <div id="hexagram"></div>
  <h3 id="result"></h3>
  <script>
  	$('#cast').on('click', function() {
   		//if get 6 lines then calculate hexagram and possible second
  		if (numlines < 6) {
        $('<code>'+getLine()+'</code>').appendTo('#lines');
  			$('<br /><div>'+lineToAscii(line)+'</div>').prependTo('#hexagram');
  			if (numlines == 6) {
          $('<div>'+linesToHexagram(lines)+'</div>').appendTo('#result');
          $("<br /><button class='btn' id='websearch'>Search</button>").appendTo('#result');
          $('#websearch').on('click', function() {
            setURL();
            window.open(dekornURL);
          });
        }
			}
  	});

  	$('#refresh').on('click', function() {
  		$('#lines').empty();
  		$('#hexagram').empty();
  		$('#result').empty();
  		eraseHexagram();
  	});

  	$('#cast-hexagram').on('click', function() {
  		$('<br /><code>'+getHexagram()+'</code>').prependTo('#result');


  	});

	</script>
</div>


</body>
</html>

